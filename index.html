<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Neon Cube</title>

<style>
body{
 margin:0;
 background:#05050a;
 color:#0ff;
 font-family:Arial;
 text-align:center;
 overflow:hidden;
}

#menu{
 position:absolute;
 inset:0;
 display:flex;
 flex-direction:column;
 justify-content:center;
 align-items:center;
 background:radial-gradient(circle,#0a0a1f,#000);
}

h1{
 font-size:40px;
 text-shadow:0 0 20px #0ff;
}

.mode{
 font-size:26px;
 margin:10px;
 padding:12px 25px;
 border:2px solid #0ff;
 color:#0ff;
 background:transparent;
 box-shadow:0 0 15px #0ff;
}

button{
 font-size:22px;
 padding:15px 35px;
 margin-top:20px;
 background:#0ff;
 border:none;
 color:#000;
 box-shadow:0 0 25px #0ff;
}

canvas{
 display:none;
 margin:0 auto;
 background:#05050a;
}
</style>
</head>

<body>

<div id="menu">
 <h1>NEON CUBE</h1>
 <div>
  <button class="mode" onclick="selectMode('cube')">‚¨õ –ö—É–±–∏–∫</button>
  <button class="mode" onclick="selectMode('ship')">‚úàÔ∏è –°–∞–º–æ–ª—ë—Ç</button>
  <button class="mode" onclick="selectMode('robot')">ü§ñ –†–æ–±–æ—Ç</button>
 </div>
 <button onclick="start()">‚ñ∂ –ò–ì–†–ê–¢–¨</button>
 <p>–¢–∞–ø–∞–π / –∫–ª–∏–∫–∞–π</p>
</div>

<canvas id="game" width="360" height="520"></canvas>

<script>
const c = document.getElementById('game');
const x = c.getContext('2d');

let mode='cube';
let y=420, vy=0;
let gravity=0.9;
let spikes=[];
let run=false;
let speed=4;
let score=0;

function selectMode(m){
 mode=m;
}

function start(){
 document.getElementById('menu').style.display='none';
 c.style.display='block';
 y=420;vy=0;spikes=[];score=0;
 run=true;
 loop();
}

document.addEventListener('click',jump);
document.addEventListener('touchstart',jump);

function jump(){
 if(!run)return;
 if(mode==='cube'||mode==='robot'){
  if(y>=420)vy=-16;
 }
 if(mode==='ship'){
  vy-=2.5;
 }
}

function loop(){
 if(!run)return;
 x.clearRect(0,0,360,520);

 // physics
 vy+=gravity;
 y+=vy;
 if(y>420){y=420;vy=0}
 if(y<0)y=0;

 // player
 x.shadowColor='#0ff';
 x.shadowBlur=20;
 x.fillStyle='#0ff';

 if(mode==='cube')x.fillRect(160,y,40,40);
 if(mode==='robot')x.fillRect(155,y-10,50,50);
 if(mode==='ship'){
  x.beginPath();
  x.moveTo(180,y);
  x.lineTo(150,y+35);
  x.lineTo(210,y+35);
  x.fill();
 }

 // spikes
 if(Math.random()<0.015){
  spikes.push({x:360});
 }

 x.shadowColor='#f0f';
 x.fillStyle='#f0f';

 for(let s of spikes){
  s.x-=speed;
  x.beginPath();
  x.moveTo(s.x,460);
  x.lineTo(s.x+25,420);
  x.lineTo(s.x+50,460);
  x.fill();

  if(s.x<200 && s.x+50>160 && y+40>420){
   gameOver();
  }
 }

 spikes=spikes.filter(s=>s.x>-60);

 // score
 score++;
 x.shadowBlur=0;
 x.fillStyle='#0ff';
 x.fillText('Score: '+score,10,30);
 x.fillText('Mode: '+mode,10,50);

 requestAnimationFrame(loop);
}

function gameOver(){
 run=false;
 setTimeout(()=>{
  alert('GAME OVER\nScore: '+score);
  location.reload();
 },100);
}
</script>

</body>
</html>

